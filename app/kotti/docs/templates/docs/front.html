{% extends "base.html" %}
{% load static %}
{% block content %}
<style>
ul ol {
    list-style: none;
}
</style>
<script>

</script>
<div class="columns" style="height: 100%; margin: 0px;">
    <div class="column p-2 is-1 has-text-centered">
        <div class="is-boxed">
            <img src="{% static 'img/logo.png' %}" style="max-width: 60px;">
        </div>
    </div>
    <div class="column is-quarter">
        <div class="box">
            <div class="block">
                <h4 class="title is-4" style="cursor: pointer;" onclick="location.href='/docs';">User manual</h4>
            </div>
            <div class="block">
                <aside class="menu">
                    {% for header in headers %}
                    {% if page in header.pages %}
                    <p class="menu-label" style="cursor: pointer;" onclick="docs_toggle_menu({{ header.id }})">
                        <span class="icon is-small"><i class="fas fa-angle-down"></i></span> {{ header.title }}
                    </p>
                    <ul class="menu-list" id="docs-menu-{{ header.id }}">
                    {% else %}
                    <p class="menu-label" style="cursor: pointer;" onclick="docs_toggle_menu({{ header.id }})">
                        <span class="icon is-small"><i class="fas fa-angle-right"></i></span> {{ header.title }}
                    </p>
                    <ul class="menu-list is-hidden" id="docs-menu-{{ header.id }}">
                    {% endif %}
                    {% for page in header.docspage_set.all %}
                        <li><a href="/docs/{{ page.title | lower | escape }}">{{ page.title | title }}</a></li>
                    {% endfor %}
                    </ul>
                    {% endfor %}
                </aside>
            </div>
        </div>
    </div>
    <div class="column is-two-thirds">
        <div class="box" style="position: relative;">
            {% if user.is_superuser %}
            <button class="button is-primary is-small" style="position: absolute; top: 10px; right: 10px;" onclick="docs_toggle_edit();">Edit</button>
            {% endif %}
            {% if page %}
            <div class="content">
                <p><span class="icon is-small"><a href="/docs"><i class="fas fa-home"></i></a></span></p>
            </div>
            {% endif %}
            <div class="content">

            </div>
        </div>
    </div>
</div>
<script>

var edit_mode = false;
function docs_toggle_edit() {
    edit_mode = !edit_mode;
}

function docs_toggle_menu(id) {
    $(".menu-list").addClass("is-hidden");
    $(".fa-angle-down").removeClass("fa-angle-down").addClass("fa-angle-right");
    $("#docs-menu-" + id).parent().find("span").removeClass("fa-angle-right").addClass("fa-angle-down");
    $("#docs-menu-" + id).removeClass("is-hidden");
}

</script>
{% endblock %}